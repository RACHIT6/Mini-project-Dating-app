<%- layout('/layout/template.ejs') %>

<div class="login">
  <div class="heart"></div>
  <div class="heart1"></div>
  <form
    action="/login"
    method="post"
    id="signupForm"
    onsubmit="return validateForm()"
  >
    <h2>Login for Love</h2>

    <label for="email">Email:</label>
    <input type="email" id="email" name="email" required />

    <label for="password">Password:</label>
    <input type="password" id="password" name="password" required />

    <a href="/signup">Don't have an account? Register now</a>

    <input type="submit" value="Login" />
  </form>

  <!-- <script>
        // Add event listener to the login form submission
        document.getElementById("signupForm").addEventListener("submit", function(event) {
            event.preventDefault(); // Prevent default form submission
            
            // Submit form data using Fetch API
            fetch('/login', {
                method: 'POST',
                body: new FormData(this) // Send form data
            })
            .then(response => {
                console.log(response)
                if (response.ok) {
                    // If login successful, redirect to dashboard
                    window.location.href = '/home';
                } else {
                    // If login failed, show alert and refresh page
                    alert('Invalid credentials');
                    location.reload(); // Refresh the page
                }
            })
            .catch(error => console.error('Error:', error));
        });
    </script> -->
</div>
